Adapted from an example at https://react-chat-timonwa.vercel.app/